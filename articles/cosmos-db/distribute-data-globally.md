---
title: Azure Cosmos DB でデータをグローバルに分散させる
description: グローバル分散型のマルチモデル データベース サービスである Azure Cosmos DB のグローバル データベースを使用した、地球規模の geo レプリケーション、マルチマスター、フェールオーバー、データ復旧について学習します。
author: markjbrown
ms.author: mjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 07/23/2019
ms.openlocfilehash: 4f17fc7df5aef449c3b0f6dd8d02ae58df959070
ms.sourcegitcommit: 04ec7b5fa7a92a4eb72fca6c6cb617be35d30d0c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/22/2019
ms.locfileid: "68384894"
---
# <a name="global-data-distribution-with-azure-cosmos-db---overview"></a>Azure Cosmos DB でのグローバルなデータの分散 - 概要

現在のアプリケーションには、優れた応答性と、常時接続が求められます。 待機時間の短縮と高可用性を実現するには、これらのアプリケーションのインスタンスをそのユーザーの近くにあるデータ センターにデプロイする必要があります。 これらのアプリケーションは、通常は複数のデータ センターにデプロイされ、グローバル分散型と呼ばれています。 グローバル分散型アプリケーションには、アプリケーションでそのユーザーの近くにあるデータのコピーを操作できるようにするために、世界中のデータを透過的にレプリケートできる、グローバルに分散されたデータベースが必要です。 

Azure Cosmos DB は、待機時間の短縮、スループットのエラスティックなスケーラビリティ、データの一貫性を保つための明確に定義されたセマンティクス、および高可用性を確保するように設計された、グローバル分散データベース サービスです。 つまり、世界のどの場所でも高速な応答時間を保証すること、常にオンラインであること、スループットとストレージのスケーラビリティが無制限でエラスティックなことがアプリケーションに求められる場合は、Azure Cosmos DB を使用してアプリケーションを構築してください。

お客様は、そのデータベースを構成してグローバルに分散し、ほとんどのAzure リージョンでも利用できるようにできます。 待機時間を短縮するには、データをユーザーの所在地の近くに配置してください。 どのリージョンを選択するかは、アプリケーションのグローバル リーチと、ユーザーの所在地によって決まります。 Cosmos DB では、Cosmos アカウントに関連付けられている全リージョンに対して透過的にデータがレプリケートされます。 グローバルに分散された Azure Cosmos データベースとコンテナーの単一のシステム イメージが利用できるようになっており、アプリケーションからは、読み取りと書き込みをローカルに実行することができます。 

Azure Cosmos DB に関してご利用のアカウントに関連付けられるリージョンは、いつでも追加したり削除したりすることができます。 リージョンの追加や削除のために、アプリケーションを一時停止したり再デプロイしたりする必要はありません。 サービスでネイティブに提供されるマルチホーム機能により、高い可用性が常に維持されます。

![高可用性デプロイ トポロジ](./media/distribute-data-globally/deployment-topology.png)

## <a name="key-benefits-of-global-distribution"></a>グローバル分散の主な利点

**グローバルなアクティブ/アクティブ アプリの構築。** そのまったく新しいマルチマスター レプリケーション プロトコルにより、すべてのリージョンで書き込みと読み取りの両方がサポートされます。 マルチマスター機能には次の利点もあります。

- 無制限でエラスティックな書き込みと読み取りのスケーラビリティ。 
- 全世界での 99.999% の読み取りおよび書き込みの可用性。
- 99 パーセンタイルで 10 ミリ秒未満の処理性能が保証された読み取りと書き込み。

Azure Cosmos DB のマルチホーム API を使用すると、アプリケーションは最も近いリージョンを認識し、そのリージョンに要求を送信できます。 構成には一切変更を加えることなく、最も近いリージョンが特定されます。 Azure Cosmos アカウントのリージョンを追加したり削除したりする際に、アプリケーションの再デプロイや一時停止を行う必要はなく、常に高可用性が維持されます。

**応答性に優れたアプリを構築できる。** データベース用に選択したすべてのリージョンに対し、アプリケーションでほぼリアルタイムの読み取りと書き込みを実行できます。 Azure Cosmos DB は、選択された一貫性レベルを保証しながら、リージョン間のデータ レプリケーションを内部的に処理します。

**可用性の高いアプリを構築する。** 世界の複数のリージョンでデータベースを実行することで、データベースの可用性が向上します。 あるリージョンが利用できない状態になった場合は、自動的に他のリージョンによってアプリケーションの要求が処理されます。 複数リージョンのデータベースを対象にした読み取りと書き込みに関して、Azure Cosmos DB は 99.999% の可用性を備えています。

**リージョン障害時にビジネス継続性を維持する。** Azure Cosmos DB では、リージョン障害時の[自動フェールオーバー](how-to-manage-database-account.md#automatic-failover)がサポートされています。 リージョン障害時にも、Azure Cosmos DB では、その待機時間、可用性、一貫性、スループットの SLA が引き続き維持されます。 アプリケーション全体で高い可用性を確保できるように、Cosmos DB には、リージョン障害をシミュレートするための手動フェールオーバー API が用意されています。 この API を使用することで、日常的なビジネス継続性の訓練を実施することができます。

**読み取りおよび書き込みのスループットのグローバルなスケーリング。** すべてのリージョンを書き込み可能にして、読み取りと書き込みを世界規模でエラスティックにスケーリングできます。 Azure Cosmos のデータベースまたはコンテナーに対してアプリケーションで構成したスループットが、Azure Cosmos アカウントに関連付けられているすべてのリージョンで実現されることが保証されます。 プロビジョニング スループットは、[金銭的な補償を伴う SLA](https://aka.ms/acdbsla) によって保証されます。

**明確に定義された複数の一貫性モデルの中から選択する。** Azure Cosmos DB のレプリケーション プロトコルでは、明確に定義された、実際的かつ直感的な 5 つの一貫性モデルが提供されています。 各モデルには、一貫性とパフォーマンスのトレードオフがあります。 これらの一貫性モデルを使用することで、グローバル分散アプリケーションを容易に構築することができます。

## <a id="Next Steps"></a>次のステップ

以下の記事でグローバル分散の詳細についてご覧ください。

* [グローバル分散 - 内部のしくみ](global-dist-under-the-hood.md)
* [アプリケーションでマルチマスターを構成する方法](how-to-multi-master.md)
* [マルチホームに関するクライアントの構成](how-to-manage-database-account.md#configure-multiple-write-regions)
* [Azure Cosmos DB アカウントのリージョンを追加/削除する](how-to-manage-database-account.md#addremove-regions-from-your-database-account)
* [SQL API アカウント用のカスタム競合解決ポリシーを作成する](how-to-manage-conflicts.md#create-a-custom-conflict-resolution-policy)
* [Cosmos DB でのプログラミング可能な整合性モデル](consistency-levels.md)
* [アプリケーションのための適切な整合性レベルを選択する](consistency-levels-choosing.md)
* [Azure Cosmos DB API における整合性レベル](consistency-levels-across-apis.md)
* [さまざまな整合性レベルでの可用性およびパフォーマンスのトレードオフ](consistency-levels-tradeoffs.md)
* [カスタム同期を実装して可用性とパフォーマンスの向上のために最適化する方法](how-to-custom-synchronization.md)
